<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Safe Place - Minimal Roguelike</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main id="game-container">

        <aside id="left-panel">
            <section id="survival-panel" class="panel">
                <h2>SOPRAVVIVENZA</h2>
                <ul>
                    <li>Sazietà: <span id="stat-food">--</span></li>
                    <li>Idratazione: <span id="stat-water">--</span></li>
                </ul>
            </section>
            <section id="condition" class="panel">
                 <h2>CONDIZIONE</h2>
                 <p><span id="stat-condition" class="status-normal">Normale</span></p>
            </section>
            <section id="inventory-panel" class="panel">
                 <h2>INVENTARIO</h2>
                 <ul id="inventory"></ul>
                 <div id="item-tooltip"></div>
             </section>
            <section id="messages-panel" class="panel">
                 <h2>DIARIO</h2>
                 <ul id="messages"></ul>
             </section>
        </aside>

        <section id="map-panel" class="panel">
            <h2>MAPPA</h2>
            <pre id="map-display">Caricamento...</pre>
            
            <div id="controls" class="panel panel-map-controls">
                <h2>AZIONI</h2>
                <div class="control-grid">
                    <button id="btn-up" onclick="movePlayer(0, -1)">Su (W)</button>
                    <button id="btn-left" onclick="movePlayer(-1, 0)">Sinistra (A)</button>
                    <button id="btn-down" onclick="movePlayer(0, 1)">Giù (S)</button>
                    <button id="btn-right" onclick="movePlayer(1, 0)">Destra (D)</button>
                </div>
             </div>
        </section>

        <aside id="right-panel">
             <section id="stats" class="panel">
                 <h2>STATISTICHE</h2>
                 <ul id="stats-list">
                     <li>HP: <span id="stat-hp">--</span> / <span id="stat-maxhp">--</span></li>
                     <li class="separator">---</li>
                     <li>Vigore: <span id="stat-vig">--</span></li>
                     <li>Potenza: <span id="stat-pot">--</span></li>
                     <li>Agilità: <span id="stat-agi">--</span></li>
                     <li>Tracce: <span id="stat-tra">--</span></li>
                     <li>Influenza: <span id="stat-inf">--</span></li>
                     <li>Presagio: <span id="stat-pre">--</span></li>
                     <li>Adattamento: <span id="stat-ada">--</span></li>
                     <li>Acquisita: <span id="stat-acq">--</span></li>
                 </ul>
             </section>
             <section id="legend-panel" class="panel">
                 <h2>LEGENDA</h2>
                 <ul id="legend"></ul>
             </section>
             <section id="game-info" class="panel">
                 <h2>INFO GIOCO</h2>
                 <ul>
                    <li>Pos: (<span id="pos-x">--</span>, <span id="pos-y">--</span>)</li>
                    <li>Luogo: <span id="tile-type">--</span></li>
                    <li>Ora: <span id="stat-day-time">--</span></li>
                 </ul>
             </section>
         </aside>

    </main>

    <div id="event-overlay" style="display: none;">
        <div id="event-popup">
            <h2 id="event-title">Evento</h2> <p id="event-content">Descrizione evento...</p> <div id="event-choices"></div> <button class="continue-button" style="display: none;">Continua...</button>
        </div>
    </div>

    <div id="end-screen" style="display: none;">
        <h1 id="end-title">Fine del Viaggio</h1> <p id="end-message">Sei morto...</p> <button id="restart-button">Ricomincia</button> </div>

    <script src="game_data.js"></script>
    <script src="game_logic.js"></script>
    </body>
</html>
