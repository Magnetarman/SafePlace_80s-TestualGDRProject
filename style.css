/* --- CSS Completo e Verificato --- */
/* Questo file rimane invariato rispetto alla versione precedente,
   in quanto la pulizia ha riguardato principalmente la logica JavaScript. */
:root {
    --bg-color: #000000; --fg-color: #00FF00; --fg-dim-color: #009900;
    --border-color: #00FF00; --border-dim-color: #005500;
    --highlight-bg: #00FF00; --highlight-fg: #000000;
    --accent-color: #FFFF00; --danger-color: #FF4444;
    --overlay-bg: rgba(0, 10, 0, 0.97);
    --plains-color: #00BB00; --forest-color: #008800; --mountain-color: #339933;
    --water-color: #008888; --ruin-color: #55AA55; --special-color: #AAAA00;
    --end-color: var(--accent-color);
}
html { height: 100%; }
body { background-color: var(--bg-color); color: var(--fg-color); font-family: 'Courier New', Courier, monospace; font-size: 16px; margin: 0; padding: 0; display: flex; align-items: center; justify-content: center; height: 100%; box-sizing: border-box; overflow: hidden; }

/* End Screen */
#end-screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--bg-color); color: var(--fg-color); display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; z-index: 99; display: none; padding: 20px; box-sizing: border-box; } /* Nascosto inizialmente */
#end-message { white-space: pre-wrap; max-height: 80%; overflow-y: auto; margin-bottom: 20px; font-size: 1.1em; line-height: 1.4; text-align: left; padding: 0 10%; }
#end-screen h2 { color: var(--accent-color); margin-bottom: 30px; }
#end-screen button { background-color: #111; color: var(--fg-color); border: 1px solid var(--border-color); padding: 10px 20px; font-family: inherit; font-size: 1.1em; cursor: pointer; margin-top: 20px;}

/* Game Container e Sezioni con TAG SEMANTICI */
main#game-container {
    display: flex;
    max-width: 1200px; /* Aumentato per ospitare meglio 3 colonne */
    width: 95%; /* Usa percentuale per migliore adattabilità */
    height: 95vh; /* Occupa gran parte dell'altezza viewport */
    margin: auto; /* Centra il contenitore */
    border: 1px solid var(--border-dim-color);
    background-color: var(--bg-color); /* Sfondo nero anche per il container */
    color: var(--fg-color);
    font-family: 'Courier New', Courier, monospace;
    font-size: 16px; /* Dimensione base font */
    box-sizing: border-box;
    transition: filter 0.3s ease-in-out;
}

/* Stili per i pannelli delle colonne */
#left-panel,
#map-panel,
#info-panel {
    padding: 15px;
    border: 1px solid var(--border-dim-color); /* Bordo per ogni pannello */
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
    overflow: hidden; /* Nasconde contenuto che esce */
}

#left-panel {
    width: 25%;
    border-right: none; /* Rimuove bordo destro ridondante */
}

#map-panel {
    width: 50%;
    border-left: 1px solid var(--border-dim-color);
    border-right: 1px solid var(--border-dim-color);
}

#info-panel {
    width: 25%;
    border-left: none; /* Rimuove bordo sinistro ridondante */
}

/* Stili per le sezioni interne ai pannelli */
#left-panel > section,
#map-panel > div, /* Mappa e legenda sono div */
#info-panel > section,
#info-panel > nav { /* Include i controlli */
    margin-bottom: 15px; /* Spazio tra le sezioni */
    border: 1px dashed var(--border-dim-color); /* Bordo tratteggiato per sezioni interne */
    padding: 10px;
    background-color: #050505; /* Sfondo leggermente diverso per le sezioni */
    overflow-y: auto; /* Scroll verticale se necessario */
    flex-shrink: 0; /* Evita che le sezioni si restringano troppo */
}

/* Titoli delle sezioni (h3) */
h3 {
    margin: 0 0 10px 0;
    padding-bottom: 5px;
    color: var(--accent-color); /* Giallo per i titoli */
    border-bottom: 1px solid var(--border-color);
    font-size: 1.1em;
    text-transform: uppercase; /* Maiuscoletto */
}

/* Liste */
ul {
    list-style: none;
    padding: 0;
    margin: 0;
    font-size: 0.95em; /* Leggermente più piccolo del testo base */
}

li {
    margin-bottom: 5px; /* Spazio tra elementi lista */
}

/* Log Eventi specifico */
#messages-panel {
    flex-grow: 1; /* Permette al log di crescere verticalmente */
    min-height: 100px; /* Altezza minima */
    overflow-y: auto; /* Abilita scroll verticale */
    display: flex; /* Usa flexbox per layout interno */
    flex-direction: column; /* Contenuto verticale */
}

#messages-panel h2 {
    margin-bottom: 5px; /* Spazio sotto titolo */
    flex-shrink: 0; /* Impedisce al titolo di restringersi */
}

#messages {
    list-style: none;
    padding: 0 5px;
    margin: 0;
    font-size: 0.8em;
    flex-grow: 1; /* Fa espandere la lista */
    overflow-y: auto; /* Scroll interno se i messaggi sono troppi */
    display: flex; /* Per far funzionare scroll */
    flex-direction: column-reverse; /* Nuovi messaggi in alto */
    scrollbar-width: thin;
    scrollbar-color: var(--accent-color) var(--bg-color);
}
#messages li {
    margin-bottom: 3px;
    word-break: break-word;
}
.log-warning { color: var(--danger-color); font-weight: bold;} /* Stile per avvisi nel log */
.msg-warning { color: var(--danger-color); } /* Prefisso warning */
.msg-info { color: var(--accent-color); } /* Prefisso info */
.lore { color: var(--fg-dim-color); font-style: italic; } /* Stile per messaggi lore */
.success { color: lightgreen; } /* Stile per messaggi successo */


/* Mappa Display */
#map-display {
    flex-grow: 1; /* Permette alla mappa di occupare spazio */
    background-color: #080808; /* Sfondo leggermente diverso per mappa */
    padding: 5px; /* Ridotto padding per massimizzare spazio mappa */
    border: 1px solid var(--border-dim-color);
    white-space: pre; /* Mantiene la formattazione testuale */
    overflow: hidden; /* NASCONDE la scrollbar */
    line-height: 1.1;
    font-size: 18px; /* Caratteri mappa più grandi */
    /* min-height: 200px; */ /* Rimuovo altezza minima, si adatta al flex container */
}

/* Legenda Mappa */
#legend {
    margin-top: 10px;
    flex-shrink: 0; /* Non far restringere la legenda */
}

#legend li {
    margin-bottom: 3px;
    font-size: 0.9em;
}
.legend-symbol {
    display: inline-block;
    width: 1.5em;
    text-align: center;
    font-weight: bold;
    margin-right: 5px;
}

/* Stili Colore Mappa - Aggiornati per leggibilità */
.tile-plains { color: #00DD00; } /* Verde leggermente più chiaro per pianure */
.tile-forest { color: #00AA00; } /* Verde foresta medio */
.tile-mountain { color: #008800; } /* Verde montagna più scuro */
.tile-river { color: #00AAAA; } /* Ciano/Acqua */
.tile-city, .tile-village { color: #44BB44; } /* Verde rovine/insediamenti */
.tile-rest-stop, .tile-start { color: #BBBB00; } /* Giallo/Ocra per speciali */
.tile-end {
    color: var(--end-color); /* Giallo acceso definito in :root */
    font-weight: bold;
    animation: blink-end 1.5s infinite;
    text-shadow: 0 0 6px var(--end-color); /* Aggiunto text-shadow per risalto */
}
.tile-unk { color: #555555; } /* Grigio scuro per sconosciuto */

/* Caselle Visitate - Modificato per sfondo invece di opacità */
.visited {
    /* opacity: 0.6 !important; */ /* Rimuoviamo o riduciamo opacità */
    background-color: rgba(0, 30, 0, 0.3); /* Sfondo verde molto scuro e trasparente */
    color: #009900; /* Riduciamo leggermente la luminosità del colore del simbolo visitato */
}
/* Stile specifico per il giocatore visitato, per evitare doppio sfondo */
.player-marker.visited {
    background-color: var(--highlight-bg); /* Mantiene lo sfondo del giocatore */
     color: var(--highlight-fg); /* Mantiene colore giocatore */
     opacity: 0.8; /* Leggermente trasparente se sopra tile visitata */
}

.player-marker {
    background-color: var(--highlight-bg);
    color: var(--highlight-fg);
    animation: blink-player 1s step-end infinite;
    border-radius: 2px;
    /* text-shadow: 0 0 3px var(--bg-color); */ /* Ombra scura per staccare dal background lampeggiante (opzionale) */
}

@keyframes blink-player {
    0%, 100% { background-color: var(--highlight-bg); color: var(--highlight-fg); }
    50% { background-color: transparent; color: var(--fg-color); }
}
@keyframes blink-end {
    0%, 100% { color: var(--end-color); text-shadow: 0 0 5px var(--end-color); }
    50% { color: var(--fg-color); text-shadow: none; }
}

/* Controlli */
#controls { text-align: center; flex-shrink: 0; }
#controls button {
    background-color: #111;
    color: var(--fg-color);
    border: 1px solid var(--border-color);
    padding: 8px 12px; /* Padding aumentato */
    margin: 4px; /* Margine aumentato */
    font-family: inherit;
    font-size: 1em; /* Dimensione font come testo base */
    cursor: pointer;
    transition: background-color 0.2s, color 0.2s; /* Transizione hover */
}
#controls button:hover:not(:disabled) {
    background-color: var(--highlight-bg);
    color: var(--highlight-fg);
}
#controls button:disabled {
    color: var(--border-dim-color);
    border-color: var(--border-dim-color);
    cursor: not-allowed;
    opacity: 0.5;
}

/* Area Status (Risorse, Condizione, Stats) */
#stat-food.low-resource,
#stat-water.low-resource {
    color: var(--danger-color);
    font-weight: bold;
    animation: blink-warning 1.2s infinite; /* Animazione per risorse basse */
}
@keyframes blink-warning {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Stili per lo stato Condizione */
.status-normal { color: var(--fg-color); }
.status-warning { color: orange; font-weight: bold; } /* Es. Ferito o Malato */
.status-danger { color: var(--danger-color); font-weight: bold; } /* Es. Ferito E Malato */


/* Event Overlay - Modificato per transizioni */
 #event-overlay {
    /* display: none; Rimuoviamo display:none, useremo opacity/visibility */
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: var(--overlay-bg); /* Sfondo scuro semi-trasparente */
    color: var(--fg-color);
    z-index: 50;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: center;
    /* --- Aggiunto per Transizioni --- */
    opacity: 0; /* Inizia trasparente */
    visibility: hidden; /* Inizia nascosto */
    transition: opacity 0.3s ease-in-out, visibility 0s linear 0.3s; /* Fade-in/out */
 }
 /* Classe da aggiungere/rimuovere con JS per mostrare/nascondere */
 #event-overlay.visible {
    opacity: 1;
    visibility: visible;
    transition-delay: 0s; /* Rimuove ritardo quando diventa visibile */
 }

 #event-popup {
    background-color: var(--bg-color);
    border: 1px solid var(--border-dim-color);
    padding: 25px;
    width: 80%;
    max-width: 600px;
    max-height: 90vh;
    overflow-y: auto;
    text-align: center;
    box-shadow: 0 0 15px var(--border-dim-color);
    font-family: inherit; /* Assicura font monospace */
    /* --- Aggiunto per Transizioni --- */
    transform: scale(0.95); /* Leggermente più piccolo all'inizio */
    transition: transform 0.3s ease-in-out;
 }
 /* Scala alla dimensione normale quando l'overlay è visibile */
 #event-overlay.visible #event-popup {
    transform: scale(1);
 }

 #event-overlay h2 {
    margin-top: 0;
    border-bottom: 1px dashed var(--border-color);
    padding-bottom: 10px;
    margin-bottom: 20px;
    font-size: 1.3em;
    color: var(--accent-color);
    font-family: inherit; /* Assicura font monospace */
 }
 #event-content {
    margin-bottom: 20px;
    text-align: left;
    white-space: pre-wrap; /* Mantiene newline e spazi */
    font-size: 1em; /* Coerenza con font base */
    line-height: 1.5; /* Interlinea migliorata */
    color: var(--fg-color); /* Colore testo standard */
    font-family: inherit; /* Assicura font monospace */
 }
 .danger-text { color: var(--danger-color); font-weight: bold; } /* Testo pericolo nel popup */

 /* Stili per i pulsanti di scelta nell'overlay */
 .event-choice { margin-top: 15px; text-align: center; }
 .event-choice button {
    background-color: #111;
    color: var(--fg-color);
    border: 1px solid var(--border-color);
    padding: 10px 18px; /* Padding aumentato */
    font-family: inherit;
    font-size: 1em;
    cursor: pointer;
    margin: 8px; /* Margine aumentato */
    display: block; /* Pulsanti uno sotto l'altro */
    width: 80%; /* Larghezza pulsanti */
    margin-left: auto; margin-right: auto; /* Centra i pulsanti */
    transition: background-color 0.2s, color 0.2s;
 }
 .event-choice button:hover {
    background-color: var(--highlight-bg);
    color: var(--highlight-fg);
 }

 /* Pulsante Continua (quando non ci sono scelte) */
 #event-overlay button.continue-button {
    background-color: #222; /* Sfondo leggermente diverso */
    color: var(--fg-color);
    border: 1px solid var(--border-color);
    padding: 10px 20px;
    font-family: inherit;
    font-size: 1em;
    cursor: pointer;
    margin-top: 20px;
    display: block; /* Assicura sia block per centrarlo */
    width: 50%;
    margin-left: auto; margin-right: auto;
    transition: background-color 0.2s, color 0.2s;
 }
  #event-overlay button.continue-button:hover {
    background-color: var(--highlight-bg);
    color: var(--highlight-fg);
 }

.hidden { display: none !important; } /* Classe utility per nascondere elementi */

/* Media Query Mobile */
@media (max-width: 900px) {
    body { font-size: 14px; } /* Riduci font base su mobile */
    main#game-container {
        flex-direction: column; /* Colonne in verticale */
        width: 100%;
        height: auto; /* Altezza automatica */
        border: none;
        margin: 0;
    }

    #left-panel,
    #map-panel,
    #info-panel {
        width: 100%; /* Colonne a larghezza piena */
        border: none;
        border-bottom: 1px solid var(--border-dim-color); /* Bordo sotto ogni sezione */
        padding: 10px;
        height: auto; /* Altezza automatica */
        overflow: visible; /* Permetti overflow su mobile? O limitare altezza? */
    }

    #info-panel { border-bottom: none; } /* Rimuovi ultimo bordo */

    #map-display {
        max-height: 40vh; /* Limita altezza mappa su mobile */
        font-size: 14px; /* Riduci font mappa */
    }

    #messages-panel {
        max-height: 150px; /* Limita altezza log */
        min-height: 100px;
    }

    #event-popup {
        width: 95%; /* Popup quasi a schermo intero */
        font-size: 1em;
    }
    .event-choice button { width: 90%; }
    #event-overlay button.continue-button { width: 70%; }
}

.left-column {
    display: flex;
    flex-direction: column;
    gap: 10px; /* Spazio tra i pannelli */
    width: 250px; /* Larghezza fissa colonna sx */
    flex-shrink: 0; /* Impedisce alla colonna di restringersi */
}

/* Stili per i pannelli specifici nella colonna sinistra */
#survival-panel, #condition-panel, #inventory-panel, #messages-panel, #legend-panel {
    flex-grow: 0; /* Non farli crescere per riempire spazio */
    flex-shrink: 0; /* Non farli restringere */
}

/* Controlli (Sotto la mappa) */
.panel-map-controls {
    border: none; /* Rimuove bordo extra */
    padding: 10px 0 0 0; /* Padding solo sopra */
    margin-top: 10px; /* Spazio dalla mappa */
    background-color: transparent; /* Sfondo trasparente */
    flex-shrink: 0; /* Non far restringere i controlli */
    border-top: 1px dashed var(--border-dim-color); /* Separatore dalla mappa */
}

.panel-map-controls h2 {
    margin-bottom: 8px;
    text-align: center;
}

.control-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* Griglia 3 colonne */
    grid-template-rows: auto auto; /* Due righe */
    gap: 5px;
    justify-items: center;
    align-items: center;
}

/* Posizionamento specifico bottoni nella griglia */
#btn-up { grid-column: 2; grid-row: 1; }
#btn-left { grid-column: 1; grid-row: 2; }
#btn-down { grid-column: 2; grid-row: 2; }
#btn-right { grid-column: 3; grid-row: 2; }
#btn-inventory { grid-column: 1 / -1; grid-row: 3; width: 80%; margin-top: 5px;} /* Occupa tutta la larghezza nella terza riga (ipotetica) */

/* Stili per i pulsanti di controllo nell'overlay */
#event-overlay button {
    background-color: #111; /* Aggiunto sfondo scuro base */
    color: var(--fg-color); /* Aggiunto colore testo verde base */
    border: 1px solid var(--border-color); /* Usa bordo standard */
    padding: 8px 15px; /* Padding simile a controlli */
    margin: 5px auto; /* Margine sopra/sotto e auto per centrare */
    font-family: inherit; /* Usa stesso font */
    font-size: 1em; /* Usa stessa dimensione font */
    cursor: pointer;
    transition: background-color 0.2s, color 0.2s;
    display: block; /* Rende ogni bottone a larghezza piena del contenitore */
    width: 80%; /* Larghezza bottoni */
    max-width: 400px; /* Larghezza massima */
    box-sizing: border-box;
}

#event-overlay button:hover {
    background-color: var(--highlight-bg);
    color: var(--highlight-fg);
}

/* Stile specifico per il bottone 'Continua...' */
#event-overlay button.continue-button {
    background-color: #222; /* Sfondo leggermente diverso per distinguerlo, ma sempre scuro */
    /* Color e altri stili ereditati dalla regola sopra */
    margin-top: 15px;
}

#event-overlay button.continue-button:hover {
     background-color: var(--highlight-bg);
     color: var(--highlight-fg);
 }

/* Stile inventario */
#inventory-panel ul {
    padding-left: 5px;
}

#inventory li {
    padding: 2px 0;
    cursor: pointer; /* Cambia cursore per indicare cliccabilità */
    transition: background-color 0.2s;
}

#inventory li:hover {
    background-color: #111; /* Sfondo leggermente più chiaro su hover */
}

/* --- Stili per Item Tooltip Inventario --- */

#item-tooltip {
    position: absolute; /* O 'fixed' se vuoi che sia relativo al viewport */
    /* Posizionamento (da aggiustare con JS o CSS più specifico se necessario) */
    /* Esempio: bottom: 10px; left: 10px; */
    /* O potremmo posizionarlo vicino all'elemento inventario con JS */
    width: 220px; /* Larghezza fissa o max-width */
    background-color: #0A0A0A; /* Sfondo leggermente diverso da quello base */
    border: 1px solid var(--border-dim-color);
    padding: 10px;
    box-shadow: 0 0 10px var(--border-dim-color); /* Ombra per staccarlo */
    color: var(--fg-color);
    font-size: 0.9em;
    z-index: 100; /* Assicura sia sopra altri elementi */
    pointer-events: none; /* Inizialmente, per non interferire col mouse */
}

#item-tooltip h4 { /* Nome oggetto */
    margin: 0 0 5px 0;
    color: var(--accent-color);
    border-bottom: 1px dashed var(--border-dim-color);
    padding-bottom: 3px;
    font-size: 1.1em;
}

#item-tooltip p { /* Descrizione */
    margin: 0 0 10px 0;
    line-height: 1.3;
    color: var(--fg-dim-color); /* Descrizione un po' più scura */
}

#item-tooltip-actions button { /* Stile per eventuali pulsanti futuri */
    /* Stile simile ai bottoni di controllo/evento */
    background-color: #111;
    color: var(--fg-color);
    border: 1px solid var(--border-color);
    padding: 5px 10px;
    font-size: 0.9em;
    cursor: pointer;
    margin: 5px 5px 0 0;
    pointer-events: auto; /* Abilita eventi per i bottoni */
}
#item-tooltip-actions button:hover {
     background-color: var(--highlight-bg);
     color: var(--highlight-fg);
}

/* Classe Helper per nascondere/mostrare */
.hidden {
    display: none !important;
}

/* Stili di base per le colonne (esempio con Flexbox) */
.container {
    display: flex;
    flex-wrap: wrap; /* Permette alle colonne di andare a capo */
    /* Altri stili del container... */
    max-width: 1600px; /* Limite massimo per schermi molto larghi */
    margin: 0 auto; /* Centra il container su schermi larghi */
}

.column {
    padding: 10px;
    box-sizing: border-box;
    /* ... altri stili comuni delle colonne ... */
}

.column-left {
    flex: 1; /* Adatta la larghezza, es. 1/3 */
    min-width: 250px; /* Larghezza minima */
    /* ... */
}

.column-center {
    flex: 2; /* Colonna centrale più larga, es. 2/3 */
    min-width: 300px;
    /* ... */
}

.column-right {
    flex: 1;
    min-width: 200px;
    /* ... */
}

/* --- Media Queries per Responsività --- */

/* Schermi Medi (es. Tablet) - Potrebbe non servire modifiche drastiche qui */
@media (max-width: 1024px) {
    .column-center {
        flex-basis: 50%; /* Diamo più spazio al centro se necessario */
    }
    /* Altri aggiustamenti se necessari */
}


/* Schermi Piccoli (es. Mobile) */
@media (max-width: 768px) {
    .container {
        flex-direction: column; /* Impila le colonne verticalmente */
    }

    .column {
        flex-basis: auto; /* Rimuove la base flessibile */
        width: 100%;     /* Ogni colonna prende tutta la larghezza */
        min-width: unset; /* Rimuove la larghezza minima */
        margin-bottom: 15px; /* Spazio tra le sezioni impilate */
    }

    /* Aggiusta font e padding se necessario per leggibilità */
    body {
        font-size: 14px; /* Leggermente più grande per mobile */
    }

    #game-map pre {
        font-size: 0.9em; /* Riduci un po' la mappa se troppo grande */
        line-height: 1.1;
    }

    /* Rendi i pulsanti più grandi per il tocco */
    .controls button {
        padding: 12px 15px;
        font-size: 1em;
        margin: 5px;
    }

    /* Qui potresti nascondere/mostrare elementi per tab/accordion in futuro */
    /* Esempio: Nascondere la legenda dettagliata di default */
    /* #legend-section { display: none; } */

}

/* Schermi Molto Piccoli */
@media (max-width: 480px) {
     body {
        font-size: 13px; /* Ulteriore aggiustamento se serve */
    }
     #game-map pre {
        font-size: 0.8em;
        line-height: 1;
    }
    .controls button {
        padding: 10px 12px;
    }
}

/* Schermi Molto Larghi (opzionale, per ottimizzare lo spazio) */
@media (min-width: 1600px) {
     /* Puoi dare più spazio al log o alla mappa se vuoi */
    #message-log {
       max-height: 400px; /* Esempio: aumenta altezza log */
    }
    /* .column-center { flex-grow: 1; } /* Permette al centro di espandersi di più */
}

/* --- Animazioni e Classi per Feedback Interattivo --- */

/* Animazione per danno subito */
@keyframes flashDamage {
    0% { background-color: transparent; }
    50% { background-color: rgba(255, 0, 0, 0.3); } /* Flash rosso scuro semi-trasparente */
    100% { background-color: transparent; }
}

/* Animazione per cura/buff ottenuto */
@keyframes flashHeal {
    0% { background-color: transparent; }
    50% { background-color: rgba(0, 255, 0, 0.2); } /* Flash verde chiaro semi-trasparente */
    100% { background-color: transparent; }
}

/* Classe da applicare temporaneamente per effetto danno */
.flash-damage {
    animation: flashDamage 0.3s ease-in-out;
}

/* Classe da applicare temporaneamente per effetto cura/buff */
.flash-heal {
    animation: flashHeal 0.3s ease-in-out;
}

/* Classe potenziale per effetto 'typing' (solo cursore) */
.typing-effect::after {
    content: '_';
    animation: blinkCursor 1s infinite step-end;
}

@keyframes blinkCursor {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

/* --- Stile per Oscurare Sfondo (Focus) --- */
/* Classe da aggiungere al main container quando overlay è attivo */
main#game-container.overlay-active {
    filter: brightness(0.6) blur(1px); /* Oscura e sfoca leggermente */
    transition: filter 0.3s ease-in-out;
    /* Potresti aggiungere pointer-events: none; per disabilitare interazione con sfondo */
}
